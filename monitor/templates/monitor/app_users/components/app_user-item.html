{% load static %}

{% if render_type == "list" %}
<div class="col-12">
  <div class="card mb-3" id="app_user_{{app_user.app_user_id}}">
    <div class="card-body p-3">
      <div class="row g-2 align-items-center">
        <div class="col">
            <a href="{% url 'app_user_details' app_id=app.app_id app_user_id=app_user.app_user_id %}">
              <h5 class="text-md fw-400 text-dark card-title mb-1">
                {% if app_user.user %}
                {{ app_user.user.display_name }}
                {% else %}
                {{ app_user.email }}
                {% endif %}
              </h5>
            </a>
            {% if app_user.user %}
            <p class="m-0 p-0">
                <span class="fw-400 text-dark">{{app_user.user.display_name}}</span> ({{app_user.get_role_display}}) 
            </p>
            {{app_user.user.email}}
            {% else %}
            <p class="m-0 p-0">
                <span class="fw-400 text-dark">{{app_user.email}}</span> ({{app_user.get_role_display}}) 
            </p>
            (Pending sign up)
            {% endif %}
        </div>
        <!--
        <div class="col-auto">
          <a href="javascript:void(0);" class="text-dark px-1" id="delete_app_user_icon_{{app_user.app_user_id}}">
            <svg onclick="deleteAppUser('{{app_user.app_user_id}}')" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-trash-2"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line></svg>
          </a>
          <button onclick="cancelDeleteAppUser('{{app_user.app_user_id}}')" class="btn btn-link text-muted d-none" id="cancel_delete_app_user_{{app_user.app_user_id}}">Cancel</button>
          <button onclick="confirmDeleteAppUser('{{app_user.app_user_id}}')" class="btn btn-danger btn-sm d-none" id="delete_app_user_{{app_user.app_user_id}}">Confirm archive</button>
        </div>
        <div id="delete_app_user_loader_{{app_user.app_user_id}}" class="col-auto d-none">
          {% include 'monitor/base/loader-inline.html' %}
        </div> -->
      </div>
    </div>
  </div>
</div>
{% endif %}

{% if render_type == "select" %}
<div class="col-12">
  <div class="card mb-3" id="app_user_{{app_user.app_user_id}}">
    <div class="card-body p-3">
      <div class="row g-2 align-items-center">
        <div class="col">
          {% if app_user.user %}
          <p class="m-0 p-0">
              <span class="fw-400 text-dark">{{app_user.user.display_name}}</span> ({{app_user.get_role_display}}) 
          </p>
          {{app_user.user.email}}
          {% else %}
          <p class="m-0 p-0">
              <span class="fw-400 text-dark">{{app_user.email}}</span> ({{app_user.get_role_display}}) 
          </p>
          (Pending sign up)
          {% endif %}
        </div>
        <div class="col-auto" id="select_app_user_{{app_user.app_user_id}}">
          <a id="select_app_user_button_{{app_user.app_user_id}}" href="javascript:void(0)" class="btn btn-outline-primary btn-sm px-3" onclick="selectAppUser('{{app_user.app_user_id}}')">Select</a>
        </div>
        <div class="col-auto d-none" id="select_app_user_loader_{{app_user.app_user_id}}">
          {% include 'monitor/base/loader-inline.html' %}
        </div>
      </div>
    </div>
  </div>
</div>
{% endif %}

{% if render_type == "display" %}
<div class="col-12">
  <div class="card mb-3" id="app_user_{{app_user.app_user_id}}">
    <div class="card-body p-3">
      <div class="row g-2 align-items-center">
        <div class="col">
          {% if app_user.user %}
          <p class="m-0 p-0">
              <span class="fw-400 text-dark">{{app_user.user.display_name}}</span> ({{app_user.get_role_display}}) 
          </p>
          {{app_user.user.email}}
          {% else %}
          <p class="m-0 p-0">
              <span class="fw-400 text-dark">{{app_user.email}}</span> ({{app_user.get_role_display}}) 
          </p>
          (Pending sign up)
          {% endif %}
        </div>
        <div class="col-auto">
          <a href="javascript:void(0);" class="text-dark px-1" id="remove_app_user_icon_{{app_user.app_user_id}}">
            <svg onclick="removeAppUser('{{app_user.app_user_id}}')" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-trash-2"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line></svg>
          </a>
          <button onclick="cancelRemoveAppUser('{{app_user.app_user_id}}')" class="btn btn-link text-muted d-none" id="cancel_remove_app_user_{{app_user.app_user_id}}">Cancel</button>
          <button onclick="confirmRemoveAppUser('{{app_user.app_user_id}}')" class="btn btn-danger btn-sm d-none" id="remove_app_user_{{app_user.app_user_id}}">Confirm remove</button>
        </div>
        <div id="remove_app_user_loader_{{app_user.app_user_id}}" class="col-auto d-none">
          {% include 'monitor/base/loader-inline.html' %}
        </div>
      </div>
    </div>
  </div>
</div>
{% endif %}


{% if render_type == "locked" %}
<div class="col-12">
  <div class="card mb-3" id="app_user_{{app_user.app_user_id}}">
    <div class="card-body p-3">
      <div class="row g-2 align-items-center">
        <div class="col">
          {% if app_user.user %}
            <p class="m-0 p-0">
                <span class="fw-400 text-dark">{{app_user.user.display_name}}</span> ({{app_user.get_role_display}}) 
            </p>
            {{app_user.user.email}}
            {% else %}
            <p class="m-0 p-0">
                <span class="fw-400 text-dark">{{app_user.email}}</span> ({{app_user.get_role_display}}) 
            </p>
            (Pending sign up)
            {% endif %}
        </div>
      </div>
    </div>
  </div>
</div>
{% endif %}


{% if render_type == "goto" %}
<div class="col-12">
  <div class="card mb-3" id="app_user_{{app_user.app_user_id}}">
    <div class="card-body p-3">
      <div class="row g-2 align-items-center">
        <div class="col">
            <a href="{% url 'app_user_details' app_id=app.app_id app_user_id=app_user.app_user_id %}">
              <h5 class="text-md fw-400 text-dark card-title mb-1">
                {% if app_user.user %}
                {{ app_user.user.display_name }}
                {% else %}
                {{ app_user.email }}
                {% endif %}
              </h5>
            </a>
            {% if app_user.user %}
            <p class="m-0 p-0">
                <span class="fw-400 text-dark">{{app_user.user.display_name}}</span> ({{app_user.get_role_display}}) 
            </p>
            {{app_user.user.email}}
            {% else %}
            <p class="m-0 p-0">
                <span class="fw-400 text-dark">{{app_user.email}}</span> ({{app_user.get_role_display}}) 
            </p>
            (Pending sign up)
            {% endif %}
        </div>
      </div>
    </div>
  </div>
</div>
{% endif %}